<div class="page-container-custom">
    <ng-container *ngFor="let company of companies">
        <section class="company-section">
            <div class="company-header">
                <h2 class="company-name">{{company.name}}</h2>
                <span class="company-badge">{{company.projects.length}} project{{company.projects.length !== 1 ? 's' :
                    ''}}</span>
            </div>

            <div class="projects-grid">
                <mat-card class="project-card" *ngFor="let project of company.projects">
                    <mat-card-header>
                        <mat-card-title>{{project.title}}</mat-card-title>
                    </mat-card-header>
                    <mat-card-content>
                        <p>{{project.description | truncateWords:70}}</p>
                    </mat-card-content>
                    <mat-card-actions align="end">
                        <a mat-flat-button *ngIf="project.link" href="{{project.link}}" target="_blank">View</a>
                    </mat-card-actions>
                </mat-card>
            </div>

            <div *ngIf="company.projects.length === 0" class="no-projects">No projects to show.</div>
        </section>
    </ng-container>
</div>